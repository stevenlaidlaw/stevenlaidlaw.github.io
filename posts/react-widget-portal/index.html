<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Creating a Widget Wrapper with React&#39;s createPortal &middot; Steven Laidlaw</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="robots" content="index,follow" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400&family=Source+Serif+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <style>
       
      html {
        -webkit-text-size-adjust: 100%;
        line-height: 1.15;
      }
      body {
        margin: 0;
      }
      main {
        display: block;
      }
      h1 {
        font-size: 2em;
        margin: 0.67em 0;
      }
      hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }
      pre {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      a {
        background-color: transparent;
      }
      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        text-decoration: underline dotted;
      }
      b,
      strong {
        font-weight: bolder;
      }
      code,
      kbd,
      samp {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      small {
        font-size: 80%;
      }
      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }
      sub {
        bottom: -0.25em;
      }
      sup {
        top: -0.5em;
      }
      img {
        border-style: none;
      }
      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }
      button,
      input {
        overflow: visible;
      }
      button,
      select {
        text-transform: none;
      }
      [type="button"],
      [type="reset"],
      [type="submit"],
      button {
        -webkit-appearance: button;
      }
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner,
      button::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }
      [type="button"]:-moz-focusring,
      [type="reset"]:-moz-focusring,
      [type="submit"]:-moz-focusring,
      button:-moz-focusring {
        outline: 1px dotted ButtonText;
      }
      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }
      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }
      progress {
        vertical-align: baseline;
      }
      textarea {
        overflow: auto;
      }
      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }
      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        height: auto;
      }
      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }
      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none;
      }
      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }
      details {
        display: block;
      }
      summary {
        display: list-item;
      }
      [hidden],
      template {
        display: none;
      }

       
       
      body,
      html {
        height: 100%;
      }
      body {
        background: #fefefe;
        color: #353638;
        font-family: "source-serif-pro";
        font-size: 21px;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "League Spartan";
        margin: 1em 0;
        text-transform: none;
      }
      h1 {
        font-size: 2.5em;
      }
      h2 {
        font-size: 2em;
      }
      h3 {
        font-size: 1.5em;
      }
      h4 {
        font-size: 1.25em;
      }
      h5 {
        font-size: 1em;
      }
      h6 {
        font-size: 0.875em;
      }
      p {
        letter-spacing: 0.01em;
        line-height: 1.8em;
        margin: 1em 0;
      }
      a {
        color: cornflowerblue;
        text-decoration: none;
      }
      ol,
      ul {
        line-height: 1.4;
        margin: 0 0 20px;
      }
      ol ol,
      ol ul,
      ul ol,
      ul ul {
        margin: 10px 0 0 20px;
      }
      ol li,
      ul li {
        margin: 0 0 2px;
      }
      ol li:last-of-type,
      ul li:last-of-type {
        margin-bottom: 0;
      }
      blockquote {
        border-left: 4px solid #353638;
        margin: 40px 0;
        padding: 5px 30px;
        opacity: 0.5;
      }
      blockquote p {
        display: block;
        font-style: italic;
        margin: 0;
        width: 100%;
      }
      img {
        display: block;
        margin: 40px 0;
        max-width: 100%;
        width: auto;
      }
      img[src$="align-center"] {
        margin: auto;
      }
      img[src$="align-left"] {
        float: left;
        margin-right: 40px;
      }
      img[src$="align-right"] {
        float: right;
        margin-left: 40px;
      }
      pre {
        border-radius: 0.5em;
        font-size: 16px;
        margin: 0 0 20px;
        overflow-x: auto;
        padding: 1em;
      }
      pre code {
        padding: 0;
      }
      code {
        font-size: 90%;
        line-height: 1.6;
      }
      hr {
        border: none;
        border-bottom: 2px solid #353638;
        margin: 45px auto;
        width: 80%;
      }
      table {
        margin-bottom: 40px;
        width: 100%;
      }
      table tbody > tr:nth-child(odd) > td,
      table tbody > tr:nth-child(odd) > th {
        background-color: #f7f7f3;
      }
      table th {
        padding: 0 10px 10px;
        text-align: left;
      }
      table td {
        padding: 10px;
      }
      table tr {
        border-bottom: 1px dotted #aeadad;
      }
      ::selection {
        background: #fff5b8;
        color: #000;
        display: block;
      }
      ::-moz-selection {
        background: #fff5b8;
        color: #000;
        display: block;
      }
      .fluid-width-video-wrapper {
        margin-bottom: 40px;
      }
      .hidden {
        display: none;
        text-indent: -9999px;
        visibility: hidden;
      }
      .clearfix:after {
        clear: both;
        content: "";
        display: table;
      }
      .container {
        margin: 0 auto;
        max-width: 889px;
        position: relative;
        width: 100%;
      }
      #wrapper {
        height: auto;
      }
      .button {
        background: #303030;
        border: none;
        border-radius: 3px;
        color: #fefefe;
        font-size: 14px;
        font-weight: 700;
        padding: 10px 12px;
        text-transform: uppercase;
      }
      .button-square,
      .button:hover {
        background: cornflowerblue;
      }
      .button-square {
        color: #fff;
        float: left;
        font-size: 17px;
        margin: 0 0 0 10px;
        padding: 3px 8px 4px;
      }
      .button-square:hover {
        background: #303030;
      }
      .error {
        text-align: center;
      }
      .comments {
        margin-top: 10px;
      }
      .site-header {
        overflow: auto;
        padding: 40px 0 0;
        text-align: center;
        text-transform: uppercase;
      }
      .site-title-wrapper {
        display: table;
        margin: 0 auto;
      }
      .site-title {
        text-transform: uppercase;
      }
      .site-logo {
        display: block;
      }
      .site-logo img {
        margin: 0;
      }
      .site-nav {
        list-style: none;
        margin: 28px 0 10px;
        padding: 0;
      }
      .site-nav-item {
        display: inline-block;
        font-size: 14px;
        font-weight: 700;
        margin: 0 10px;
      }
      .site-nav-item a:hover {
        color: #424242;
      }
      #latest-post {
        display: none;
      }
      .post-container {
        margin: 0 40px;
      }
      .post-header {
        border-bottom: 6px solid #303030;
        margin: 0 0 20px;
        padding: 0 0 20px;
      }
      .page-title,
      .post-header,
      .post-title {
        text-align: center;
        text-transform: uppercase;
      }
      .page-title,
      .post-title {
        font-size: 52px;
        font-weight: 700;
        margin: 15px 0;
      }
      .page-title {
        margin: 15px 40px;
      }
      .blog-description,
      .post-date,
      .post-reading {
        color: #aeadad;
        font-size: 14px;
        font-weight: 600;
        line-height: 1;
        margin: 25px 0 0;
      }
      .blog-description a,
      .post-date a,
      .post-reading a {
        color: #aeadad;
      }
      .blog-description a:hover,
      .post-date a:hover,
      .post-reading a:hover {
        color: cornflowerblue;
      }
      .post-line:after {
        border-bottom: 1px dotted #303030;
        content: "";
        display: block;
        margin: 40px auto 0;
        width: 100px;
      }
      .post-content a:hover {
        border-bottom: 1px dotted cornflowerblue;
        padding: 0 0 2px;
      }
      .post-content:last-child {
        margin-bottom: 0;
      }
      .post-content .footnotes {
        border-spacing: 0;
        margin-bottom: 0;
      }
      .post-content .footnotes .label + td {
        width: 100%;
      }
      .post-content .gist tr {
        border-bottom: 0;
      }
      .post-footer {
        margin-top: 5px;
      }
      .post-tags,
      .share {
        color: #aeadad;
        font-size: 14px;
      }
      .post-tags span,
      .share span {
        font-weight: 600;
      }
      .post-tags {
        float: left;
        margin: 3px 0 0;
      }
      .post-tags a:hover {
        color: #303030;
      }
      .share {
        float: right;
      }
      .share a {
        background: cornflowerblue;
        color: #fff;
        display: inline-block;
        font-size: 16px;
        margin-left: 5px;
        padding: 5px 0 4px;
        text-align: center;
        width: 30px;
      }
      .share a:hover {
        background: #303030;
      }
      .post-navigation {
        display: table;
        margin: 70px auto 100px;
      }
      .newer-posts,
      .older-posts {
        background: cornflowerblue;
        color: #fefefe;
        float: left;
        font-size: 14px;
        font-weight: 600;
        margin: 0 5px;
        padding: 5px 10px 6px;
        text-transform: uppercase;
      }
      .newer-posts:hover,
      .older-posts:hover {
        background: #303030;
      }
      .page-number {
        display: none;
      }
      .post-list {
        list-style: none;
        padding: 0;
      }
      .post-stub {
        border-bottom: 1px dotted #303030;
        margin: 0;
        position: relative;
      }
      .post-stub:first-child {
        padding-top: 0;
      }
      .post-stub a {
        color: #424242;
        display: block;
        padding: 20px 5px;
        -webkit-transition: all 0.2s ease-in-out;
        -moz-transition: all 0.2s ease-in-out;
        transition: all 0.2s ease-in-out;
      }
      .post-stub a:hover {
        background: #fcf5f5;
        color: cornflowerblue;
        padding: 20px 12px;
      }
      .post-stub a:hover .post-stub-tag {
        background: cornflowerblue;
      }
      .post-stub-tag {
        background: #303030;
        border-radius: 3px;
        color: #fff;
        float: right;
        font-size: 10px;
        margin: 7px 0 0;
        padding: 0 5px;
        text-transform: uppercase;
      }
      .post-stub-description,
      .post-stub-title {
        display: inline-block;
        margin: 0;
        text-transform: none;
      }
      .post-stub-date {
        display: inline-block;
      }
      .post-stub-date:before {
        content: "/ ";
      }
      .next-posts-link a,
      .previous-posts-link a {
        display: block;
        padding: 8px 11px;
      }
      .author-profile {
        margin: 0 40px;
      }
      .author-profile:after {
        border-bottom: 1px dotted #303030;
        content: "";
        display: block;
        margin: 40px auto 0;
        width: 100px;
      }
      .author-heading {
        margin: 15px auto;
        text-align: center;
        width: 100%;
      }
      .author-avatar {
        border-radius: 50px;
        height: 50px;
        margin: 5px 10px 0 0;
        width: 50px;
      }
      .author-avatar,
      .author-name {
        display: inline;
        vertical-align: middle;
      }
      .author-name {
        font-size: 52px;
        font-weight: 700;
      }
      .author-meta,
      .author-name {
        text-align: center;
        text-transform: uppercase;
      }
      .author-meta {
        color: #aeadad;
        font-size: 14px;
        font-weight: 600;
        line-height: 1;
        margin: 25px 0 0;
      }
      .author-meta span {
        display: inline-block;
        margin: 0 10px 8px;
      }
      .author-meta i {
        margin-right: 8px;
      }
      .author-meta a {
        color: #aeadad;
      }
      .author-meta a:hover {
        color: cornflowerblue;
      }
      .author-bio {
        margin: 20px auto 0;
        max-width: 700px;
        text-align: center;
      }
      .footer {
        background: #303030;
        color: #d3d3d3;
        height: 265px;
        margin-top: 95px;
        overflow: auto;
      }
      .footer .site-title-wrapper {
        margin: 80px auto 35px;
      }
      .footer .button-square:hover,
      .footer .site-title a:hover {
        background: #121212;
      }
      .footer-copyright {
        color: #656565;
        font-size: 14px;
        margin: 0;
        text-align: center;
        text-transform: uppercase;
      }
      .footer-copyright a {
        color: #656565;
        font-weight: 700;
      }
      .footer-copyright a:hover {
        color: #fefefe;
      }
      #nprogress .bar {
        background: cornflowerblue;
      }
      #nprogress .peg {
        box-shadow: 0 0 10px cornflowerblue, 0 0 5px cornflowerblue;
      }
      #nprogress .spinner-icon {
        border-left-color: cornflowerblue;
        border-top-color: cornflowerblue;
      }
      @media only screen and (max-width: 800px) {
        .post-stub-tag {
          display: none;
        }
      }
      @media only screen and (max-width: 600px) {
        h1,
        h2,
        ol,
        p,
        ul {
          margin-bottom: 20px;
        }
        blockquote,
        img {
          margin: 30px 0;
        }
        pre {
          margin: 20px 0;
        }
        hr {
          margin: 35px 0;
        }
        .site-header {
          padding-top: 40px;
        }
        .site-title {
          float: none;
          margin-bottom: 15px;
        }
        .site-title a {
          float: none;
        }
        .site-title + .button-square {
          margin-left: 0;
        }
        .site-nav-item {
          display: block;
          margin: 15px 0;
        }
        .post-header {
          margin-bottom: 20px;
          padding-bottom: 20px;
        }
        .post-header p {
          word-wrap: break-word;
          overflow-wrap: break-word;
        }
        .author-heading,
        .author-name,
        .page-title,
        .post-title {
          word-wrap: break-word;
          font-size: 42px;
          margin-top: 5px;
          overflow-wrap: break-word;
        }
        .author-meta,
        .blog-description,
        .post-date {
          margin-top: 20px;
        }
        .author-meta:after,
        .author-meta:before,
        .blog-description:after,
        .blog-description:before,
        .post-date:after,
        .post-date:before {
          margin-top: 30px;
        }
        .author-profile:after,
        .author-profile:before {
          margin-top: 20px;
        }
        .post-stub-title {
          display: block;
        }
        .post-stub-date:before {
          content: "";
          display: block;
        }
        .post-list {
          margin-top: 20px;
        }
        .author-profile,
        .post-container,
        .post-list {
          margin-left: 25px;
          margin-right: 25px;
        }
        .post-tags {
          width: 100%;
        }
        .post-stub a,
        .post-stub a:hover {
          padding-bottom: 12px;
          padding-top: 12px;
        }
        .share {
          float: left;
          margin-top: 20px;
        }
        .share a {
          margin: 0 5px 0 0;
        }
        .footer {
          margin-top: 50px;
        }
        .footer .site-title-wrapper {
          text-align: center;
        }
        .footer .button-jump-top {
          clear: both;
          display: inline-block;
          float: none;
        }
      }
      @media only screen and (max-width: 400px) {
        .site-header {
          padding-top: 40px;
        }
        .author-heading,
        .author-name,
        .page-title,
        .post-title {
          word-wrap: break-word;
          font-size: 30px;
          line-height: 1.2;
          overflow-wrap: break-word;
        }
        .author-meta,
        .blog-description,
        .post-date {
          line-height: 1.6;
          margin-top: 10px;
        }
        .author-meta:after,
        .author-meta:before,
        .blog-description:after,
        .blog-description:before,
        .post-date:after,
        .post-date:before {
          margin-top: 20px;
        }
        .author-profile:after,
        .author-profile:before {
          margin-top: 10px;
        }
        .author-profile,
        .post-container,
        .post-list {
          margin-left: 15px;
          margin-right: 15px;
        }
        .author-avatar {
          display: block;
          margin: 0 auto 18px;
        }
        .author-meta span {
          display: block;
          margin: 18px 0;
        }
        .footer-copyright {
          padding: 0 10px;
        }
      }

      .chroma {
        background-color: #f0f0f0;
      }
      .chroma .err {
        background-color: #e3d2d2;
        color: #a61717;
      }
      .chroma .lntd {
        border: 0;
        margin: 0;
        padding: 0;
        vertical-align: top;
      }
      .chroma .lntable {
        border: 0;
        border-spacing: 0;
        display: block;
        margin: 0;
        overflow: auto;
        padding: 0;
        width: auto;
      }
      .chroma .hl {
        background-color: #ffc;
        display: block;
        width: 100%;
      }
      .chroma .ln,
      .chroma .lnt {
        color: #7f7f7f;
        margin-right: 0.4em;
        padding: 0 0.4em;
      }
      .chroma .k,
      .chroma .kc,
      .chroma .kd,
      .chroma .kn,
      .chroma .kp,
      .chroma .kr {
        color: #000;
        font-weight: 700;
      }
      .chroma .kt {
        color: #458;
        font-weight: 700;
      }
      .chroma .na {
        color: teal;
      }
      .chroma .nb {
        color: #0086b3;
      }
      .chroma .bp {
        color: #999;
      }
      .chroma .nc {
        color: #458;
        font-weight: 700;
      }
      .chroma .no {
        color: teal;
      }
      .chroma .nd {
        color: #1f7199;
        font-weight: 700;
      }
      .chroma .ni {
        color: purple;
      }
      .chroma .ne {
        color: #900;
        font-weight: 700;
      }
      .chroma .nf {
        color: #800;
        font-weight: 700;
      }
      .chroma .nl {
        color: #900;
        font-weight: 700;
      }
      .chroma .nn {
        color: #555;
      }
      .chroma .nt {
        color: navy;
      }
      .chroma .nv,
      .chroma .vc,
      .chroma .vg,
      .chroma .vi {
        color: teal;
      }
      .chroma .dl,
      .chroma .s,
      .chroma .sa,
      .chroma .sb,
      .chroma .sc,
      .chroma .sd {
        color: #d14;
      }
      .chroma .s2 {
        color: #800;
      }
      .chroma .se,
      .chroma .sh,
      .chroma .si,
      .chroma .sx {
        color: #d14;
      }
      .chroma .sr {
        color: #009926;
      }
      .chroma .s1 {
        color: #800;
      }
      .chroma .ss {
        color: #990073;
      }
      .chroma .il,
      .chroma .m,
      .chroma .mb,
      .chroma .mf,
      .chroma .mh,
      .chroma .mi,
      .chroma .mo {
        color: #099;
      }
      .chroma .o,
      .chroma .ow {
        color: #000;
        font-weight: 700;
      }
      .chroma .c,
      .chroma .c1,
      .chroma .ch,
      .chroma .cm {
        color: #998;
        font-style: italic;
      }
      .chroma .cp,
      .chroma .cpf,
      .chroma .cs {
        color: #999;
        font-style: italic;
        font-weight: 700;
      }
      .chroma .gd {
        background-color: #fdd;
        color: #000;
      }
      .chroma .ge {
        color: #000;
        font-style: italic;
      }
      .chroma .gr {
        color: #a00;
      }
      .chroma .gh {
        color: #999;
      }
      .chroma .gi {
        background-color: #dfd;
        color: #000;
      }
      .chroma .go {
        color: #888;
      }
      .chroma .gp {
        color: #555;
      }
      .chroma .gs {
        font-weight: 700;
      }
      .chroma .gu {
        color: #aaa;
      }
      .chroma .gt {
        color: #a00;
      }
      .chroma .gl {
        text-decoration: underline;
      }
      .chroma .w {
        color: #bbb;
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
      <header class="site-header">
        <div class="container">
          <div class="site-title-wrapper">
            
            <h1 class="site-title">
              <a href="http://stevenlaidlaw.com/">Steven Laidlaw</a>
            </h1>
                    
          </div>

          <ul class="site-nav">
            

          </ul>
        </div>
      </header>

      <div id="container">


<div class="container">
    <article class="post-container">
        <header class="post-header">
    <h1 class="post-title">Creating a Widget Wrapper with React&#39;s createPortal</h1>
    
</header>

        <div class="post-content clearfix">
    

    <p>React is pretty sweet. It works in a nested, hierarchical way—which is awesome in most cases—but sometimes that can cause issues. Sometimes you need something to jump out of the parent container, like a modal dialog or a menu. This is precisely what React&rsquo;s <code>createPortal</code> is used for!</p>
<p>The problem you&rsquo;ll run into though is that when creating a menu or other kind of dropdown, you need to be aware of the parent container&rsquo;s location and display the floating element appropriately positioned on the page. We also need to make sure that we don&rsquo;t fall outside the bounds of the page.</p>
<p>So, without any further ado, let&rsquo;s create a wrapper that we can use for any kind of dropdown we&rsquo;d ever need!</p>
<h2 id="the-setup">The Setup</h2>
<p>First lets create a dumb use-case that will enable us to use this wrapper. We&rsquo;ll build a wide help button that shows a tooltip and stick it in various locations around the page.</p>
<p><a href="https://gist.github.com/stevenlaidlaw/bc8e85166194340c69282e0ae6e46e39">This code</a> gives us the following page, with all the info panels toggled on:</p>
<p><img src="/images/react-widget-portal-0.png" alt="Info Pane Bad"></p>
<p>As you can see the info boxes are currently trapped inside the container, so what we want to do is break it out of the regular DOM hierarchy.</p>
<h2 id="the-basic-widget">The Basic Widget</h2>
<p>First let&rsquo;s create the most basic version of the widget. This should render whatever children we pass in using the <code>createPortal</code> method.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">WidgetPortal</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">Component</span> {
	<span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">props</span>) {
		<span style="color:#66d9ef">super</span>(<span style="color:#a6e22e">props</span>);
		<span style="color:#75715e">// Grab the document root to append the modal to it
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">documentRoot</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;root&#39;</span>) <span style="color:#f92672">||</span> document.<span style="color:#a6e22e">body</span>;

		<span style="color:#75715e">// Create the modal Element
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;div&#39;</span>);
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">zIndex</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;10000&#39;</span>;
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">position</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;absolute&#39;</span>;
	}

	<span style="color:#a6e22e">componentDidMount</span>() {
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">documentRoot</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>);
	}

	<span style="color:#a6e22e">render</span>() {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ReactDOM</span>.<span style="color:#a6e22e">createPortal</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">props</span>.<span style="color:#a6e22e">children</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>);
	}
}
</code></pre></div><p>As you can see in the constructor we first get the root element, then create the modal element using <code>document.createElement</code>. After the component has mounted we then append the element to the root element. In the render method we then use the <code>ReactDOM.createPortal</code> method. This takes two arguments — first the child you&rsquo;d like to render and next the container element to render to. Here we pass in the children and the element we created earlier.</p>
<p>We can now use this WidgetPortal to wrap the notes portion of our original code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx">&lt;<span style="color:#f92672">WidgetPortal</span>&gt;
	&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;info&#34;</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onToggle</span>}&gt;
		<span style="color:#a6e22e">This</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">tooltip</span> <span style="color:#66d9ef">for</span> {<span style="color:#a6e22e">label</span>}
	&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">WidgetPortal</span>&gt;
</code></pre></div><p>And we get the following result:</p>
<p><img src="/images/react-widget-portal-1.png" alt="Info Pane Better"></p>
<p>This is better, but still isn&rsquo;t 100% correct and is quite buggy. We can see the whole tooltip now, but it&rsquo;s always up in the top left of the screen and all the tooltips overlap each other. Let&rsquo;s work on first getting the tooltips to sit themselves underneath the buttons like you&rsquo;d expect.</p>
<h2 id="widget-portal-improved">Widget Portal Improved</h2>
<p>First we need to wrap the returned value from the render method in a div and create a reference to it. We do this so that we have something still within the natural flow of the page to reference our position from.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">props</span>) {
	...
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">createRef</span>();
	...
}
</code></pre></div><p>And then wrap the render method to use the new Ref.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">render</span>() {
	<span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span>}&gt;
		{<span style="color:#a6e22e">ReactDOM</span>.<span style="color:#a6e22e">createPortal</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">props</span>.<span style="color:#a6e22e">children</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>)}
	&lt;/<span style="color:#f92672">div</span>&gt;;
}
</code></pre></div><p>Now for the fun part! We have a reference to a wrapper container that we can use as the basis for the location of the portal element. Let&rsquo;s do that now.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">componentDidMount</span>() {
	...

	<span style="color:#66d9ef">const</span> {
		<span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerTop</span>,
		<span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerLeft</span>,
		<span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerWidth</span>,
		<span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerHeight</span>
	} <span style="color:#f92672">=</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">getBoundingClientRect</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">getBoundingClientRect</span>()) <span style="color:#f92672">||</span> {};

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">containerXCenter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerLeft</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">containerWidth</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);

	<span style="color:#66d9ef">const</span> {<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">height</span>} <span style="color:#f92672">=</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">getBoundingClientRect</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">getBoundingClientRect</span>()) <span style="color:#f92672">||</span> {};

	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerTop</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">containerHeight</span>;
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerXCenter</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">width</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);

	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">top</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">left</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
}
</code></pre></div><p>Note that we&rsquo;re getting the center point so we can place the element in a more logical way.</p>
<p>With this done we get the following:</p>
<p><img src="/images/react-widget-portal-2.png" alt="Info Pane Almost There"></p>
<p>Yay, it&rsquo;s now positioning correctly! The downside is it&rsquo;s running off the side of the page again, so let&rsquo;s fix that up now. To do this all we need to do is get the edges of the page and force the element to stay within it.</p>
<h2 id="widget-portal-complete">Widget Portal Complete</h2>
<p>First I like to add a little buffer so it&rsquo;s not flat up against the edge of the page, so add this to the constructor:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</code></pre></div><p>Next let&rsquo;s modify the componentDidMount function to take into account the page width and height. First grab the data we need based on the dimensions of the HTML:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">documentHeight</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientHeight</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">documentWidth</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientWidth</span>;
</code></pre></div><p>Next, after getting the container and portal dimensions we set all the absolute position values of the element:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerTop</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">containerHeight</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">bottom</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">documentHeight</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">top</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">height</span>);
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerXCenter</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">width</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">right</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">documentWidth</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">left</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">width</span>);
</code></pre></div><p>Lastly we need to make sure none of these elements fall outside the screen (and buffer), and if they do force them in.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">right</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span>) {
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">right</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
} <span style="color:#66d9ef">else</span> {
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">left</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">left</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
}
<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">bottom</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span>) {
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">bottom</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
} <span style="color:#66d9ef">else</span> {
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">top</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">top</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
}
</code></pre></div><p>As you can see all we&rsquo;re doing is setting either the right/left and bottom/top absolute positions to make sure they sit within the bounds of the screen. You can see the result of this as so:</p>
<p><img src="/images/react-widget-portal-3.png" alt="Info Pane Success"></p>
<p>Success! The tooltips now all sit within the bounds of the page, and always will based on the size of whatever portal you throw at it. Well, as long as the portal itself isn&rsquo;t larger than the page, but that would just be silly, right?</p>
<p>Just to make it clear how it all works I&rsquo;ll post the whole <code>componentDidMount</code> here with comments so you can see how all the parts work together.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">componentDidMount</span>() {
	<span style="color:#75715e">// Get the document height and width which this portal is added to
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">documentHeight</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientHeight</span>;
	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">documentWidth</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">clientWidth</span>;

	<span style="color:#75715e">// Place the modal Element into the root DOM node
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">documentRoot</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>);

	<span style="color:#75715e">// Get the size of the portal container
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">const</span> {
		<span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerTop</span>,
		<span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerLeft</span>,
		<span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerWidth</span>,
		<span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">containerHeight</span>
	} <span style="color:#f92672">=</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">getBoundingClientRect</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">getBoundingClientRect</span>()) <span style="color:#f92672">||</span> {};

	<span style="color:#75715e">// Get the container&#39;s center point on the X-axis for positioning the element correctly
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">containerXCenter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerLeft</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">containerWidth</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);

	<span style="color:#75715e">// Get the size of this portal element
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">const</span> {<span style="color:#a6e22e">width</span>, <span style="color:#a6e22e">height</span>} <span style="color:#f92672">=</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">getBoundingClientRect</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">getBoundingClientRect</span>()) <span style="color:#f92672">||</span> {};

	<span style="color:#75715e">// Position the sides of the element from the respective sides of the screen
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerTop</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">containerHeight</span>;
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">bottom</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">documentHeight</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">top</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">height</span>);
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">containerXCenter</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">width</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">right</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">documentWidth</span> <span style="color:#f92672">-</span> (<span style="color:#a6e22e">left</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">width</span>);

	<span style="color:#75715e">// Position the element correctly based on the center of the base of the parent element
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// Ensure the Element doesn&#39;t fall off the right of the screen
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">right</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span>) {
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">right</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
	} <span style="color:#66d9ef">else</span> { <span style="color:#75715e">// Or the left
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">left</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">left</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
	}
	<span style="color:#75715e">// Ensure the Element doesn&#39;t fall off the bottom of the screen
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">bottom</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span>) {
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">bottom</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
	} <span style="color:#66d9ef">else</span> { <span style="color:#75715e">// Or the top
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">top</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">BUFFER</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">top</span><span style="color:#e6db74">}</span><span style="color:#e6db74">px`</span>;
	}
}
</code></pre></div><p>Before we forget we have to make sure we clean up our references so make sure you do that in the standard React way like so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#a6e22e">componentWillUnmount</span>() {
	<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>) <span style="color:#66d9ef">return</span>;
	<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">documentRoot</span>.<span style="color:#a6e22e">removeChild</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">el</span>);
}
</code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>Now we have a complete and functional widget wrapper that uses React&rsquo;s <code>createPortal</code> to wrap any and all dropdown/modal/popup elements we may need. There are, of course, ways to improve upon this such as: passing in a reference instead of creating one within the portal for a more accurate location; handling correcting the elements position when zoomed in; and more, but I&rsquo;ll leave those as an exercise to the reader. (For a hint on the zoom, look at <code>window.scrollX</code> and <code>window.scrollY</code>)</p>
<p>Thanks for reading, and if you have any questions/corrections please feel free to let me know!</p>

</div>

        <footer class="post-footer clearfix"><div class="share">
    </div>
</footer>
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
        </footer>

        <script src="http://stevenlaidlaw.com/js/jquery-1.11.3.min.js"></script>
        <script src="http://stevenlaidlaw.com/js/jquery.fitvids.js"></script>
        <script src="http://stevenlaidlaw.com/js/scripts.js"></script>
        
    </body>
</html>

