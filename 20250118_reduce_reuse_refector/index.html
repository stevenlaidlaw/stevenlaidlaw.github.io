<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.1"/><meta name="description" content="A few things I like to keep in mind when refactoring code." data-gatsby-head="true"/><meta property="og:title" content="Reduce, Reuse, Refactor" data-gatsby-head="true"/><meta property="og:description" content="A few things I like to keep in mind when refactoring code." data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta name="fediverse:creator" content="@stevenlaidlaw@mastodon.social" data-gatsby-head="true"/><style data-href="/styles.f31d2b58efbd68ee6691.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Libre Baskerville;font-style:normal;font-weight:400;src:url(/static/libre-baskerville-latin-ext-400-normal-1640567abfc9542e5285fdd4909f9bbc.woff2) format("woff2"),url(/static/libre-baskerville-latin-ext-400-normal-d9f55217775e664a9b3608d6f2975f5d.woff) format("woff");unicode-range:u+0100-02ba,u+02bd-02c5,u+02c7-02cc,u+02ce-02d7,u+02dd-02ff,u+0304,u+0308,u+0329,u+1d00-1dbf,u+1e00-1e9f,u+1ef2-1eff,u+2020,u+20a0-20ab,u+20ad-20c0,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-display:swap;font-family:Libre Baskerville;font-style:normal;font-weight:400;src:url(/static/libre-baskerville-latin-400-normal-023e192311fcda1965f68dce2736856f.woff2) format("woff2"),url(/static/libre-baskerville-latin-400-normal-aeb947197dd1adc2889a8c516d7ac911.woff) format("woff");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+0304,u+0308,u+0329,u+2000-206f,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-3xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-serif:"Libre Baskerville","Georgia",Cambria,"Times New Roman",Times,serif;--fontFamily-sans:"Helvetica Neue","Helvetica","Arial",sans-serif;--font-body:var(--fontFamily-sans);--font-heading:var(--fontFamily-serif);--fontWeight-normal:400;--fontWeight-bold:700;--fontWeight-black:900;--fontSize-root:18px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-h5:0.8rem;--fontSize-h4:1rem;--fontSize-h3:1.25rem;--fontSize-h2:1.5rem;--fontSize-h1:2rem;--color-primary:#005bcc;--color-background:#ffeabb;--color-text:#000;--color-text-light:#4f5969;--color-accent:#d1dce5}:root[data-theme=dark]{--color-primary:#409bec;--color-background:#1a202c;--color-text:#e2e8f0;--color-text-light:#a0aec0;--color-accent:#2d3748}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:var(--lineHeight-normal)}body,html{font-size:var(--fontSize-root)}body{background:var(--color-background);color:var(--color-text);font-family:var(--font-body)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{font-weight:var(--fontWeight-bold)}h1{font-size:var(--fontSize-h1);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-h2)}h3{font-size:var(--fontSize-h3)}h4{font-size:var(--fontSize-h4)}h5{font-size:var(--fontSize-h5)}h6{font-size:var(--fontSize-root)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5);position:relative}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:3rem;margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p>span{font-size:var(--fontSize-h5)}.post-list-item h2{color:var(--color-primary);margin-bottom:var(--spacing-0);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-h5);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio p,.bio-avatar{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-h5)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}.theme-toggle{align-items:center;display:flex;gap:var(--spacing-2);margin:var(--spacing-2);position:absolute;right:0;top:0}.theme-toggle>.theme-toggle-label{color:var(--color-text-light);font-size:var(--fontSize-h5)}.theme-toggle>.switch{display:inline-block;height:34px;position:relative;width:60px}.theme-toggle>.switch>input{height:0;opacity:0;width:0}.theme-toggle>.switch>span{background-color:var(--color-text-light);border-radius:34px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;transition:.1s}.theme-toggle>.switch>span:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:26px;left:4px;position:absolute;transition:.1s;width:26px}.theme-toggle>.switch>input:checked+span{background-color:var(--color-primary)}.theme-toggle>.switch>input:checked+span:before{transform:translateX(26px)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" title="devoid of context - rss feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=857aba2dd6bed72ebb7c294f144aca7a" type="image/png"/><link rel="icon" href="/favicon.svg?v=857aba2dd6bed72ebb7c294f144aca7a" type="image/svg+xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=857aba2dd6bed72ebb7c294f144aca7a"/><title data-gatsby-head="true">Reduce, Reuse, Refactor | devoid of context</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper"><div class="theme-toggle"><div class="theme-toggle-label">the light burns me!</div><label class="switch" aria-label="toggle theme"><input type="checkbox"/><span class="slider"></span></label></div><header class="global-header"><h1 class="main-heading"><a href="/">devoid of context</a></h1><div>the unfiltered ramblings of software engineer Steven Laidlaw</div><div><a href="https://github.com/stevenlaidlaw">github</a> // <a rel="me" href="https://mastodon.social/@stevenlaidlaw">Mastodon</a> // <a href="https://www.linkedin.com/in/stevenglaidlaw/">linkedin</a></div></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Reduce, Reuse, Refactor</h1><p>January 18, 2025</p></header><section itemProp="articleBody"><p>Like most software engineers, I've spent most of my career reading other people's code. Between pull requests, tracking down bugs, building out new features, and just plain old research to learn a code base, there is a lot of time an engineer will sink into trying to understand what other people are thinking.</p>
<p>Hell, if you’re around long enough you’ve probably come across indecipherable code that a previous version of yourself wrote, and if you’re lucky you’ll have proof of your growth when you cringe at some of it.</p>
<p>All of this is to say that I’ve come up with a few questions I ask myself when I approach adding new and fixing old code. Things I find helps avoid the classic pitfalls of refactoring “bad” code and making it “clean”.</p>
<blockquote>
<p>Is it messy, or is it complex?</p>
</blockquote>
<p>Messy and complex are often conflated. It’s the primary impetus behind a lot of unnecessary rewrites — especially when written in a language or framework that you’re unfamiliar with. Particularly when said framework/language is not currently “cool”. No one likes having to learn new things to build a feature that they already know how to build. Besides, that old code is messy as heck! Lots of it is completely unnecessary. You could make this much cleaner and more efficient.</p>
<p>Sound familiar? Tell me, how much did your stomach drop when you happily deployed your new clean code and now support is inundated with bug reports? What do you mean people on old iPhones can’t load the page anymore? Huh, the layout is broken in Firefox? Why has our accessibility score dropped below an acceptable rating? You'll discover that most of that "messy" code was written to solve those same bug reports over the last few years. The code wasn't messy. It was battle-hardened.</p>
<p>Take those few extra cycles to understand the purpose of something. If you don't know why it's there, sure it could be left over from something long removed, but it also could be something you don't yet know you don't know. Getting better at recognising this comes down to experience, but at least being aware of it means you'll be less likely to remove something in future that you don't understand.</p>
<blockquote>
<p>Do I actually have to rewrite this?</p>
</blockquote>
<p>The second best thing a good software engineer does is write code. The best is to delete it. Every line of code added to a codebase contributes to headaches. That code must be tested, understood by others, maintained, and considered for future changes. It is also a potential area for bugs, regressions, security issues, etc. You should always attempt to reduce the amount of code you write in any way possible, and the best way to accomplish this is through code reuse.</p>
<p>It's easy to fall into the trap of writing new and clever code, but reusing existing code is always better. This is true both in terms of time spent and code quality. As mentioned above code isn't messy by default, but because it's been used and abused over time. You can write some new code that is clean and elegant but it won't cover all the edge cases and bugs that the messy code has already solved.</p>
<blockquote>
<p>What's the simplest way I can write this code for future use?</p>
</blockquote>
<p>If you absolutely must write new code make sure you're writing as little as possible and that it's as simple as you can make it. This doesn't mean being clever -- it means being clear. You always want to write code that is easy to read, understand, and maintain. Chances are you work in a team and might not always be there to show someone how the code works. You have to make it accessible to others, especially those without as much experience as yourself.</p>
<blockquote>
<p>Is there something close to this functionality that I can modify to cover both use cases?</p>
</blockquote>
<p>Recycling code is when you take existing code and modify it to include your use case without breaking the original purpose. This can be as simple as just a helper file within your codebase or something completely independent like a library (useful when separate services do similar things but comes with issues around maintenance and ownership). Which way you take this is up to your team or organisation to decide.</p>
<p>Regardless of how you intend to refactor a code base, I hope that you always go in with a few of these things in mind. Remember that no one wants to write bad or messy code. Everyone wants to do their best work but a lot of the time the reality of priorities and deadlines can mean decisions were made at that time that were considered good enough. Generally, the end user doesn't care about the difference between messy and clean code as long as the functionality is the same. Remember to practice patience and thoughtfulness, and to remain humble, because the next time you're cursing someone's bad code you might see your name in the <code class="language-text">git blame</code> column.</p></section><hr/></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li></li><li><a rel="next" href="/20250425_what_are_you_testing/">What are you testing?<!-- --> →</a></li></ul></nav></main><footer></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/20250118_reduce_reuse_refector/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-017a2a9f7e77bb900768.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-1c9f1b9cd3a0f3db970b.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-6b7688f53e612af88326.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-fefeea9a68962f4d0e58.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="528919e9ae33ae9ee85d";</script><script src="/webpack-runtime-7d5dae9c9805b663c27b.js" async></script><script src="/framework-70a9f4e36460b584a9c5.js" async></script><script src="/app-017a2a9f7e77bb900768.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>